<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oficinas Percursos Gerais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fff7ed; /* Fundo creme bem suave */
        }

        .gradient-header {
            background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #facc15 100%);
        }

        .card-shadow {
            box-shadow: 0 2px 4px -1px rgba(220, 38, 38, 0.06), 0 1px 2px -1px rgba(220, 38, 38, 0.04);
            transition: all 0.2s ease;
        }

        .card-shadow:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 6px -1px rgba(234, 88, 12, 0.1), 0 2px 4px -1px rgba(234, 88, 12, 0.06);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="gradient-header text-white p-4 shadow-md">
        <div class="container mx-auto max-w-5xl">
            <div class="flex flex-col md:flex-row items-center justify-between gap-3">
                <div class="flex items-center gap-2">
                    <i data-lucide="map" class="w-6 h-6"></i>
                    <h1 class="text-xl md:text-2xl font-bold tracking-tight">Oficinas Percursos Gerais</h1>
                </div>
                <div class="text-white/90 text-xs font-medium bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm">
                    Calendário 2025/2026
                </div>
            </div>
        </div>
    </header>

    <!-- Filters Section -->
    <section class="bg-white border-b border-orange-100 sticky top-0 z-10 shadow-sm">
        <div class="container mx-auto max-w-5xl p-3">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                
                <!-- Filter: Region -->
                <div class="relative">
                    <select id="regionFilter" class="w-full bg-orange-50 border border-orange-200 text-gray-700 text-sm rounded-md p-2 focus:ring-1 focus:ring-orange-500 focus:border-orange-500 outline-none cursor-pointer">
                        <option value="">Região: Todas</option>
                        <option value="1">Região 1</option>
                        <option value="2">Região 2</option>
                        <option value="3">Região 3</option>
                        <option value="4">Região 4</option>
                        <option value="5">Região 5</option>
                        <option value="6">Região 6</option>
                    </select>
                </div>

                <!-- Filter: Month -->
                <div class="relative">
                    <select id="monthFilter" class="w-full bg-orange-50 border border-orange-200 text-gray-700 text-sm rounded-md p-2 focus:ring-1 focus:ring-orange-500 focus:border-orange-500 outline-none cursor-pointer">
                        <option value="">Mês: Todos</option>
                        <option value="12">Dezembro 2025</option>
                        <option value="01">Janeiro 2026</option>
                        <option value="02">Fevereiro 2026</option>
                        <option value="03">Março 2026</option>
                    </select>
                </div>

                <!-- Filter: City -->
                <div class="relative">
                    <select id="cityFilter" class="w-full bg-orange-50 border border-orange-200 text-gray-700 text-sm rounded-md p-2 focus:ring-1 focus:ring-orange-500 focus:border-orange-500 outline-none cursor-pointer">
                        <option value="">Cidade: Todas</option>
                        <!-- Populated by JS -->
                    </select>
                </div>

                <!-- Clear Button -->
                <div class="">
                    <button id="clearFilters" class="w-full bg-red-50 hover:bg-red-100 text-red-600 text-sm font-semibold py-2 px-3 rounded-md transition-colors flex items-center justify-center gap-1 border border-red-100 h-full">
                        <i data-lucide="x-circle" class="w-3 h-3"></i>
                        Limpar
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Content List -->
    <main class="flex-grow container mx-auto max-w-5xl p-3 md:p-4">
        
        <!-- Stats -->
        <div class="flex justify-between items-center mb-2 text-xs text-gray-500 font-medium px-1">
            <span id="resultsCount">Carregando...</span>
            <span class="hidden md:inline">Visualização em Lista Compacta</span>
        </div>

        <!-- List Container -->
        <div id="eventsGrid" class="flex flex-col gap-2">
            <!-- Items will be injected here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="hidden flex flex-col items-center justify-center py-8 text-center">
            <div class="bg-orange-50 p-3 rounded-full mb-3">
                <i data-lucide="search-x" class="w-6 h-6 text-orange-400"></i>
            </div>
            <h3 class="text-sm font-bold text-gray-700">Nada encontrado</h3>
            <p class="text-xs text-gray-400 mt-1">Ajuste os filtros.</p>
        </div>
    </main>

    <footer class="bg-gray-800 text-gray-400 py-4 mt-6">
        <div class="container mx-auto text-center px-4">
            <p class="text-xs">Oficinas Percursos Gerais &copy; 2025-2026</p>
        </div>
    </footer>

    <script>
        // --- DATASET FROM PDF ---
        // Format: { region: 1, city: "Name", route: "Rota X", date: "DD/MM/YYYY", rawDate: for sorting }
        const rawData = [
            // REGIÃO 1
            { r: 1, c: "Claro dos Poções", rot: "Rota 3", d: "19/12/2025" },
            { r: 1, c: "Claro dos Poções", rot: "Rota 2", d: "09/01/2026" },
            { r: 1, c: "Claro dos Poções", rot: "Rota 1", d: "06/02/2026" },
            { r: 1, c: "Claro dos Poções", rot: "Rota 2", d: "05/03/2026" },
            { r: 1, c: "Engenheiro Navarro", rot: "Rota 1", d: "15/12/2025" },
            { r: 1, c: "Engenheiro Navarro", rot: "Rota 3", d: "05/01/2026" },
            { r: 1, c: "Engenheiro Navarro", rot: "Rota 1", d: "09/02/2026" },
            { r: 1, c: "Engenheiro Navarro", rot: "Rota 2", d: "09/03/2026" },
            { r: 1, c: "Francisco Dumont", rot: "Rota 1", d: "16/12/2025" },
            { r: 1, c: "Francisco Dumont", rot: "Rota 3", d: "06/01/2026" },
            { r: 1, c: "Francisco Dumont", rot: "Rota 1", d: "09/02/2026" },
            { r: 1, c: "Francisco Dumont", rot: "Rota 2", d: "09/03/2026" },
            { r: 1, c: "Glaucilândia", rot: "Rota 3", d: "15/12/2025" },
            { r: 1, c: "Glaucilândia", rot: "Rota 2", d: "05/01/2026" },
            { r: 1, c: "Glaucilândia", rot: "Rota 1", d: "03/02/2026" },
            { r: 1, c: "Glaucilândia", rot: "Rota 2", d: "02/03/2026" },
            { r: 1, c: "Guaraciama", rot: "Rota 1", d: "17/12/2025" },
            { r: 1, c: "Guaraciama", rot: "Rota 3", d: "07/01/2026" },
            { r: 1, c: "Guaraciama", rot: "Rota 1", d: "10/02/2026" },
            { r: 1, c: "Guaraciama", rot: "Rota 2", d: "10/03/2026" },
            { r: 1, c: "Itacambira", rot: "Rota 3", d: "17/12/2025" },
            { r: 1, c: "Itacambira", rot: "Rota 2", d: "07/01/2026" },
            { r: 1, c: "Itacambira", rot: "Rota 1", d: "04/02/2026" },
            { r: 1, c: "Itacambira", rot: "Rota 2", d: "03/03/2026" },
            { r: 1, c: "Jequitaí", rot: "Rota 2", d: "08/12/2025" },
            { r: 1, c: "Jequitaí", rot: "Rota 3", d: "12/01/2026" },
            { r: 1, c: "Jequitaí", rot: "Rota 2", d: "03/02/2026" },
            { r: 1, c: "Jequitaí", rot: "Rota 1", d: "02/03/2026" },
            { r: 1, c: "Juramento", rot: "Rota 3", d: "16/12/2025" },
            { r: 1, c: "Juramento", rot: "Rota 2", d: "06/01/2026" },
            { r: 1, c: "Juramento", rot: "Rota 1", d: "03/02/2026" },
            { r: 1, c: "Juramento", rot: "Rota 2", d: "02/03/2026" },
            { r: 1, c: "Lagoa dos Patos", rot: "Rota 2", d: "11/12/2025" },
            { r: 1, c: "Lagoa dos Patos", rot: "Rota 3", d: "15/01/2026" },
            { r: 1, c: "Lagoa dos Patos", rot: "Rota 2", d: "04/02/2026" },
            { r: 1, c: "Lagoa dos Patos", rot: "Rota 1", d: "03/03/2026" },
            { r: 1, c: "São João da Lagoa", rot: "Rota 2", d: "12/12/2025" },
            { r: 1, c: "São João da Lagoa", rot: "Rota 3", d: "16/01/2026" },
            { r: 1, c: "São João da Lagoa", rot: "Rota 2", d: "05/02/2026" },
            { r: 1, c: "São João da Lagoa", rot: "Rota 1", d: "04/03/2026" },

            // REGIÃO 2
            { r: 2, c: "Campo Azul", rot: "Rota 2", d: "18/12/2025" },
            { r: 2, c: "Campo Azul", rot: "Rota 1", d: "08/01/2026" },
            { r: 2, c: "Campo Azul", rot: "Rota 3", d: "10/02/2026" },
            { r: 2, c: "Campo Azul", rot: "Rota 3", d: "10/03/2026" },
            { r: 2, c: "Coração de Jesus", rot: "Rota 3", d: "12/12/2025" },
            { r: 2, c: "Coração de Jesus", rot: "Rota 1", d: "16/01/2026" },
            { r: 2, c: "Coração de Jesus", rot: "Rota 2", d: "12/02/2026" },
            { r: 2, c: "Coração de Jesus", rot: "Rota 1", d: "12/03/2026" },
            { r: 2, c: "Ibiaí", rot: "Rota 2", d: "10/12/2025" },
            { r: 2, c: "Ibiaí", rot: "Rota 3", d: "14/01/2026" },
            { r: 2, c: "Ibiaí", rot: "Rota 2", d: "04/02/2026" },
            { r: 2, c: "Ibiaí", rot: "Rota 1", d: "03/03/2026" },
            { r: 2, c: "Icaraí de Minas", rot: "Rota 2", d: "16/12/2025" },
            { r: 2, c: "Icaraí de Minas", rot: "Rota 1", d: "06/01/2026" },
            { r: 2, c: "Icaraí de Minas", rot: "Rota 3", d: "09/02/2026" },
            { r: 2, c: "Icaraí de Minas", rot: "Rota 3", d: "09/03/2026" },
            { r: 2, c: "Ponto Chique", rot: "Rota 2", d: "09/12/2025" },
            { r: 2, c: "Ponto Chique", rot: "Rota 3", d: "13/01/2026" },
            { r: 2, c: "Ponto Chique", rot: "Rota 2", d: "03/02/2026" },
            { r: 2, c: "Ponto Chique", rot: "Rota 1", d: "02/03/2026" },
            { r: 2, c: "Santa Fé de Minas", rot: "Rota 1", d: "09/12/2025" },
            { r: 2, c: "Santa Fé de Minas", rot: "Rota 2", d: "13/01/2026" },
            { r: 2, c: "Santa Fé de Minas", rot: "Rota 3", d: "03/02/2026" },
            { r: 2, c: "Santa Fé de Minas", rot: "Rota 3", d: "02/03/2026" },
            { r: 2, c: "São João do Pacuí", rot: "Rota 2", d: "19/12/2025" },
            { r: 2, c: "São João do Pacuí", rot: "Rota 1", d: "09/01/2026" },
            { r: 2, c: "São João do Pacuí", rot: "Rota 3", d: "11/02/2026" },
            { r: 2, c: "São João do Pacuí", rot: "Rota 3", d: "11/03/2026" },
            { r: 2, c: "São Romão", rot: "Rota 1", d: "08/12/2025" },
            { r: 2, c: "São Romão", rot: "Rota 2", d: "12/01/2026" },
            { r: 2, c: "São Romão", rot: "Rota 3", d: "03/02/2026" },
            { r: 2, c: "São Romão", rot: "Rota 3", d: "02/03/2026" },
            { r: 2, c: "Ubaí", rot: "Rota 2", d: "17/12/2025" },
            { r: 2, c: "Ubaí", rot: "Rota 1", d: "07/01/2026" },
            { r: 2, c: "Ubaí", rot: "Rota 3", d: "10/02/2026" },
            { r: 2, c: "Ubaí", rot: "Rota 3", d: "10/03/2026" },
            { r: 2, c: "Urucuia", rot: "Rota 1", d: "10/12/2025" },
            { r: 2, c: "Urucuia", rot: "Rota 2", d: "14/01/2026" },
            { r: 2, c: "Urucuia", rot: "Rota 3", d: "04/02/2026" },
            { r: 2, c: "Urucuia", rot: "Rota 3", d: "03/03/2026" },

            // REGIÃO 3
            { r: 3, c: "Berilo", rot: "Rota 4", d: "15/12/2025" },
            { r: 3, c: "Berilo", rot: "Rota 5", d: "12/01/2026" },
            { r: 3, c: "Berilo", rot: "Rota 4", d: "10/02/2026" },
            { r: 3, c: "Berilo", rot: "Rota 5", d: "10/03/2026" },
            { r: 3, c: "Botumirim", rot: "Rota 3", d: "18/12/2025" },
            { r: 3, c: "Botumirim", rot: "Rota 2", d: "08/01/2026" },
            { r: 3, c: "Botumirim", rot: "Rota 1", d: "04/02/2026" },
            { r: 3, c: "Botumirim", rot: "Rota 2", d: "03/03/2026" },
            { r: 3, c: "Coronel Murta", rot: "Rota 4", d: "17/12/2025" },
            { r: 3, c: "Coronel Murta", rot: "Rota 5", d: "14/01/2026" },
            { r: 3, c: "Coronel Murta", rot: "Rota 4", d: "11/02/2026" },
            { r: 3, c: "Coronel Murta", rot: "Rota 5", d: "11/03/2026" },
            { r: 3, c: "Francisco Badaró", rot: "Rota 4", d: "11/12/2025" },
            { r: 3, c: "Francisco Badaró", rot: "Rota 5", d: "08/01/2026" },
            { r: 3, c: "Francisco Badaró", rot: "Rota 4", d: "05/02/2026" },
            { r: 3, c: "Francisco Badaró", rot: "Rota 5", d: "04/03/2026" },
            { r: 3, c: "Itinga", rot: "Rota 4", d: "16/12/2025" },
            { r: 3, c: "Itinga", rot: "Rota 5", d: "13/01/2026" },
            { r: 3, c: "Itinga", rot: "Rota 4", d: "10/02/2026" },
            { r: 3, c: "Itinga", rot: "Rota 5", d: "10/03/2026" },
            { r: 3, c: "Jenipapo de Minas", rot: "Rota 4", d: "12/12/2025" },
            { r: 3, c: "Jenipapo de Minas", rot: "Rota 5", d: "09/01/2026" },
            { r: 3, c: "Jenipapo de Minas", rot: "Rota 4", d: "06/02/2026" },
            { r: 3, c: "Jenipapo de Minas", rot: "Rota 5", d: "05/03/2026" },
            { r: 3, c: "José Gonçalves de Minas", rot: "Rota 4", d: "10/12/2025" },
            { r: 3, c: "José Gonçalves de Minas", rot: "Rota 5", d: "07/01/2026" },
            { r: 3, c: "José Gonçalves de Minas", rot: "Rota 4", d: "05/02/2026" },
            { r: 3, c: "José Gonçalves de Minas", rot: "Rota 5", d: "04/03/2026" },
            { r: 3, c: "Leme do Prado", rot: "Rota 4", d: "09/12/2025" },
            { r: 3, c: "Leme do Prado", rot: "Rota 5", d: "06/01/2026" },
            { r: 3, c: "Leme do Prado", rot: "Rota 4", d: "04/02/2026" },
            { r: 3, c: "Leme do Prado", rot: "Rota 5", d: "03/03/2026" },
            { r: 3, c: "Minas Novas", rot: "Rota 4", d: "08/12/2025" },
            { r: 3, c: "Minas Novas", rot: "Rota 5", d: "05/01/2026" },
            { r: 3, c: "Minas Novas", rot: "Rota 4", d: "04/02/2026" },
            { r: 3, c: "Minas Novas", rot: "Rota 5", d: "03/03/2026" },

            // REGIÃO 4
            { r: 4, c: "Catuti", rot: "Rota 5", d: "19/12/2025" },
            { r: 4, c: "Catuti", rot: "Rota 4", d: "16/01/2026" },
            { r: 4, c: "Catuti", rot: "Rota 5", d: "11/02/2026" },
            { r: 4, c: "Catuti", rot: "Rota 4", d: "10/03/2026" },
            { r: 4, c: "Gameleiras", rot: "Rota 5", d: "11/12/2025" },
            { r: 4, c: "Gameleiras", rot: "Rota 4", d: "08/01/2026" },
            { r: 4, c: "Gameleiras", rot: "Rota 5", d: "05/02/2026" },
            { r: 4, c: "Gameleiras", rot: "Rota 4", d: "03/03/2026" },
            { r: 4, c: "Mamonas", rot: "Rota 5", d: "12/12/2025" },
            { r: 4, c: "Mamonas", rot: "Rota 4", d: "09/01/2026" },
            { r: 4, c: "Mamonas", rot: "Rota 5", d: "05/02/2026" },
            { r: 4, c: "Mamonas", rot: "Rota 4", d: "03/03/2026" },
            { r: 4, c: "Mato Verde", rot: "Rota 5", d: "10/12/2025" },
            { r: 4, c: "Mato Verde", rot: "Rota 4", d: "07/01/2026" },
            { r: 4, c: "Mato Verde", rot: "Rota 5", d: "04/02/2026" },
            { r: 4, c: "Mato Verde", rot: "Rota 4", d: "02/03/2026" },
            { r: 4, c: "Novorizonte", rot: "Rota 4", d: "18/12/2025" },
            { r: 4, c: "Novorizonte", rot: "Rota 5", d: "15/01/2026" },
            { r: 4, c: "Novorizonte", rot: "Rota 4", d: "11/02/2026" },
            { r: 4, c: "Novorizonte", rot: "Rota 5", d: "11/03/2026" },
            { r: 4, c: "Porteirinha", rot: "Rota 5", d: "17/12/2025" },
            { r: 4, c: "Porteirinha", rot: "Rota 4", d: "14/01/2026" },
            { r: 4, c: "Porteirinha", rot: "Rota 5", d: "10/02/2026" },
            { r: 4, c: "Porteirinha", rot: "Rota 4", d: "09/03/2026" },
            { r: 4, c: "Riacho dos Machados", rot: "Rota 5", d: "16/12/2025" },
            { r: 4, c: "Riacho dos Machados", rot: "Rota 4", d: "13/01/2026" },
            { r: 4, c: "Riacho dos Machados", rot: "Rota 5", d: "10/02/2026" },
            { r: 4, c: "Riacho dos Machados", rot: "Rota 4", d: "09/03/2026" },
            { r: 4, c: "Rio Pardo de Minas", rot: "Rota 5", d: "08/12/2025" },
            { r: 4, c: "Rio Pardo de Minas", rot: "Rota 4", d: "05/01/2026" },
            { r: 4, c: "Rio Pardo de Minas", rot: "Rota 5", d: "04/02/2026" },
            { r: 4, c: "Rio Pardo de Minas", rot: "Rota 4", d: "02/03/2026" },
            { r: 4, c: "Serranopolis de Minas", rot: "Rota 5", d: "18/12/2025" },
            { r: 4, c: "Serranopolis de Minas", rot: "Rota 4", d: "15/01/2026" },
            { r: 4, c: "Serranopolis de Minas", rot: "Rota 5", d: "11/02/2026" },
            { r: 4, c: "Serranopolis de Minas", rot: "Rota 4", d: "10/03/2026" },

            // REGIÃO 5
            { r: 5, c: "Águas Vermelhas", rot: "Rota 6", d: "09/12/2025" },
            { r: 5, c: "Águas Vermelhas", rot: "Rota 6", d: "06/01/2026" },
            { r: 5, c: "Águas Vermelhas", rot: "Rota 6", d: "04/02/2026" },
            { r: 5, c: "Águas Vermelhas", rot: "Rota 6", d: "03/03/2026" },
            { r: 5, c: "Berizal", rot: "Rota 6", d: "10/12/2025" },
            { r: 5, c: "Berizal", rot: "Rota 6", d: "07/01/2026" },
            { r: 5, c: "Berizal", rot: "Rota 6", d: "04/02/2026" },
            { r: 5, c: "Berizal", rot: "Rota 6", d: "03/03/2026" },
            { r: 5, c: "Divisópolis", rot: "Rota 6", d: "18/12/2025" },
            { r: 5, c: "Divisópolis", rot: "Rota 6", d: "16/01/2026" },
            { r: 5, c: "Divisópolis", rot: "Rota 6", d: "11/02/2026" },
            { r: 5, c: "Divisópolis", rot: "Rota 6", d: "11/03/2026" },
            { r: 5, c: "Indaiabira", rot: "Rota 6", d: "12/12/2025" },
            { r: 5, c: "Indaiabira", rot: "Rota 6", d: "09/01/2026" },
            { r: 5, c: "Indaiabira", rot: "Rota 6", d: "05/02/2026" },
            { r: 5, c: "Indaiabira", rot: "Rota 6", d: "04/03/2026" },
            { r: 5, c: "Jacinto", rot: "Rota 6", d: "16/12/2025" },
            { r: 5, c: "Jacinto", rot: "Rota 6", d: "14/01/2026" },
            { r: 5, c: "Jacinto", rot: "Rota 6", d: "10/02/2026" },
            { r: 5, c: "Jacinto", rot: "Rota 6", d: "10/03/2026" },
            { r: 5, c: "Jordânia", rot: "Rota 6", d: "17/12/2025" },
            { r: 5, c: "Jordânia", rot: "Rota 6", d: "15/01/2026" },
            { r: 5, c: "Jordânia", rot: "Rota 6", d: "11/02/2026" },
            { r: 5, c: "Jordânia", rot: "Rota 6", d: "11/03/2026" },
            { r: 5, c: "Santa Maria do Salto", rot: "Rota 6", d: "15/12/2025" },
            { r: 5, c: "Santa Maria do Salto", rot: "Rota 6", d: "13/01/2026" },
            { r: 5, c: "Santa Maria do Salto", rot: "Rota 6", d: "10/02/2026" },
            { r: 5, c: "Santa Maria do Salto", rot: "Rota 6", d: "10/03/2026" },
            { r: 5, c: "São João do Paraíso", rot: "Rota 6", d: "11/12/2025" },
            { r: 5, c: "São João do Paraíso", rot: "Rota 6", d: "08/01/2026" },
            { r: 5, c: "São João do Paraíso", rot: "Rota 6", d: "05/02/2026" },
            { r: 5, c: "São João do Paraíso", rot: "Rota 6", d: "04/03/2026" },
            { r: 5, c: "Vargem Grande", rot: "Rota 5", d: "09/12/2025" },
            { r: 5, c: "Vargem Grande", rot: "Rota 4", d: "06/01/2026" },
            { r: 5, c: "Vargem Grande", rot: "Rota 6", d: "06/02/2026" },
            { r: 5, c: "Vargem Grande", rot: "Rota 6", d: "05/03/2026" },

            // REGIÃO 6
            { r: 6, c: "Capitão Eneas", rot: "Rota 3", d: "11/12/2025" },
            { r: 6, c: "Capitão Eneas", rot: "Rota 1", d: "15/01/2026" },
            { r: 6, c: "Capitão Eneas", rot: "Rota 2", d: "11/02/2026" },
            { r: 6, c: "Capitão Eneas", rot: "Rota 1", d: "11/03/2026" },
            { r: 6, c: "Chapada Gaúcha", rot: "Rota 1", d: "11/12/2025" },
            { r: 6, c: "Chapada Gaúcha", rot: "Rota 2", d: "15/01/2026" },
            { r: 6, c: "Chapada Gaúcha", rot: "Rota 3", d: "04/02/2026" },
            { r: 6, c: "Chapada Gaúcha", rot: "Rota 3", d: "03/03/2026" },
            { r: 6, c: "Jaíba", rot: "Rota 1", d: "18/12/2025" },
            { r: 6, c: "Jaíba", rot: "Rota 3", d: "08/01/2026" },
            { r: 6, c: "Jaíba", rot: "Rota 1", d: "11/02/2026" },
            { r: 6, c: "Jaíba", rot: "Rota 2", d: "11/03/2026" },
            { r: 6, c: "Japonvar", rot: "Rota 3", d: "10/12/2025" },
            { r: 6, c: "Japonvar", rot: "Rota 1", d: "14/01/2026" },
            { r: 6, c: "Japonvar", rot: "Rota 2", d: "10/02/2026" },
            { r: 6, c: "Japonvar", rot: "Rota 1", d: "10/03/2026" },
            { r: 6, c: "Luislândia", rot: "Rota 2", d: "15/12/2025" },
            { r: 6, c: "Luislândia", rot: "Rota 1", d: "05/01/2026" },
            { r: 6, c: "Luislândia", rot: "Rota 3", d: "09/02/2026" },
            { r: 6, c: "Luislândia", rot: "Rota 3", d: "09/03/2026" },
            { r: 6, c: "Matias Cardoso", rot: "Rota 1", d: "19/12/2025" },
            { r: 6, c: "Matias Cardoso", rot: "Rota 3", d: "09/01/2026" },
            { r: 6, c: "Matias Cardoso", rot: "Rota 1", d: "11/02/2026" },
            { r: 6, c: "Matias Cardoso", rot: "Rota 2", d: "11/03/2026" },
            { r: 6, c: "Mirabela", rot: "Rota 3", d: "09/12/2025" },
            { r: 6, c: "Mirabela", rot: "Rota 1", d: "13/01/2026" },
            { r: 6, c: "Mirabela", rot: "Rota 2", d: "09/02/2026" },
            { r: 6, c: "Mirabela", rot: "Rota 1", d: "09/03/2026" },
            { r: 6, c: "Montalvânia", rot: "Rota 1", d: "12/12/2025" },
            { r: 6, c: "Montalvânia", rot: "Rota 2", d: "16/01/2026" },
            { r: 6, c: "Montalvânia", rot: "Rota 3", d: "05/02/2026" },
            { r: 6, c: "Montalvânia", rot: "Rota 3", d: "04/03/2026" },
            { r: 6, c: "Patis", rot: "Rota 3", d: "08/12/2025" },
            { r: 6, c: "Patis", rot: "Rota 1", d: "12/01/2026" },
            { r: 6, c: "Patis", rot: "Rota 2", d: "09/02/2026" },
            { r: 6, c: "Patis", rot: "Rota 1", d: "09/03/2026" }
        ];

        // Process data to add JS Date objects and sortable keys
        const processedData = rawData.map(item => {
            const parts = item.d.split('/');
            const jsDate = new Date(parts[2], parts[1] - 1, parts[0]);
            return {
                ...item,
                jsDate: jsDate,
                day: parts[0],
                monthKey: parts[1], // "12", "01"
                year: parts[2]
            };
        }).sort((a, b) => a.jsDate - b.jsDate); // Sort chronologically

        // --- DOM ELEMENTS ---
        const regionFilter = document.getElementById('regionFilter');
        const cityFilter = document.getElementById('cityFilter');
        const monthFilter = document.getElementById('monthFilter');
        const clearBtn = document.getElementById('clearFilters');
        const grid = document.getElementById('eventsGrid');
        const emptyState = document.getElementById('emptyState');
        const countLabel = document.getElementById('resultsCount');

        // --- POPULATE CITY FILTER ---
        function populateCityFilter() {
            const cities = [...new Set(processedData.map(d => d.c))].sort();
            cityFilter.innerHTML = '<option value="">Cidade: Todas</option>';
            cities.forEach(city => {
                const opt = document.createElement('option');
                opt.value = city;
                opt.textContent = city;
                cityFilter.appendChild(opt);
            });
        }
        populateCityFilter();

        // --- RENDER FUNCTION ---
        function render() {
            const selectedRegion = regionFilter.value;
            const selectedCity = cityFilter.value;
            const selectedMonth = monthFilter.value;

            const filtered = processedData.filter(item => {
                const matchRegion = selectedRegion ? item.r.toString() === selectedRegion : true;
                const matchCity = selectedCity ? item.c === selectedCity : true;
                const matchMonth = selectedMonth ? item.monthKey === selectedMonth : true;
                return matchRegion && matchCity && matchMonth;
            });

            grid.innerHTML = '';
            countLabel.textContent = `${filtered.length} evento(s)`;

            if (filtered.length === 0) {
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                
                filtered.forEach(item => {
                    // Styles based on Route
                    let borderClass = "border-l-4 border-red-500";
                    let bgIcon = "bg-red-50 text-red-600 border border-red-100";
                    
                    if(item.rot.includes("Rota 2") || item.rot.includes("Rota 4")) {
                        borderClass = "border-l-4 border-orange-500";
                        bgIcon = "bg-orange-50 text-orange-600 border border-orange-100";
                    } else if (item.rot.includes("Rota 3") || item.rot.includes("Rota 5") || item.rot.includes("Rota 6")) {
                        borderClass = "border-l-4 border-yellow-500";
                        bgIcon = "bg-yellow-50 text-yellow-600 border border-yellow-100";
                    }

                    const card = document.createElement('div');
                    // Compact Row Layout
                    card.className = `bg-white rounded-md p-3 card-shadow ${borderClass} flex items-center justify-between gap-3`;
                    
                    const monthName = item.jsDate.toLocaleDateString('pt-BR', { month: 'short' }).replace('.', '');
                    const weekday = item.jsDate.toLocaleDateString('pt-BR', { weekday: 'short' }).replace('.', '');

                    card.innerHTML = `
                        <div class="flex items-center gap-3 md:gap-4 overflow-hidden">
                            <!-- Date Box -->
                            <div class="flex flex-col items-center justify-center bg-gray-50 rounded px-2 py-1 min-w-[3.5rem] border border-gray-100">
                                <span class="text-[10px] uppercase font-bold text-gray-500 leading-tight">${monthName}</span>
                                <span class="text-lg font-bold text-gray-800 leading-tight">${item.day}</span>
                            </div>
                            
                            <!-- Info -->
                            <div class="min-w-0">
                                <h3 class="font-bold text-gray-800 text-sm truncate flex items-center gap-2">
                                    ${item.c}
                                    <span class="text-[10px] font-normal bg-gray-100 text-gray-500 px-1.5 rounded hidden sm:inline-block">Região ${item.r}</span>
                                </h3>
                                <p class="text-xs text-gray-500 flex items-center mt-0.5 truncate">
                                    <span class="capitalize">${weekday}</span> <span class="mx-1">•</span> ${item.d}
                                </p>
                            </div>
                        </div>

                        <!-- Badge -->
                        <div class="shrink-0 flex flex-col items-end gap-1">
                            <span class="inline-flex items-center rounded-full ${bgIcon} px-2.5 py-0.5 text-[10px] md:text-xs font-bold shadow-sm whitespace-nowrap">
                                ${item.rot}
                            </span>
                            <span class="sm:hidden text-[9px] text-gray-400">Região ${item.r}</span>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        // --- EVENT LISTENERS ---
        regionFilter.addEventListener('change', render);
        cityFilter.addEventListener('change', render);
        monthFilter.addEventListener('change', render);

        clearBtn.addEventListener('click', () => {
            regionFilter.value = "";
            cityFilter.value = "";
            monthFilter.value = "";
            render();
        });

        // Initial Render
        render();
        lucide.createIcons();

    </script>
</body>
</html>
